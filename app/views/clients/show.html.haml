%article
  %header
    %b Client Information
    = link_to "EDIT", edit_client_path(id: @client.id)

  %p
    First Name:
    = @client.first_name

  %p
    Last Name:
    = @client.last_name

  %p
    Mobile Number:
    = @client.mobile_number

  %p
    Address:
    = @client.address or '-'

  %p
    Last Visit:
    = @client.last_visit

  %h3 Household Members
  
  %p
    Total:
    = @client.household_members.count + 1

    (incl. client)

  %table
    %thead
      %th First Name
      %th Last Name
      %th Member Type

    %tbody
      - @client.household_members.each do |member|
        %tr
          %td= member.first_name
          %td= member.last_name
          %td= HouseholdMember::MEMBER_TYPES[member.member_type.to_sym]

  %p
    Notes:
  %p
    = @client.notes

  %br

  = button_to "Log Visit", visits_path(visit: { client_id: @client.id }), data: { 'turbo-confirm': 'Are you sure?' }
